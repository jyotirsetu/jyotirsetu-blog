---
import { Icon } from 'astro-icon/components';

const zodiacSigns = [
  { name: 'Aries', symbol: '♈', dates: 'Mar 21 - Apr 19', color: 'jyotirsetu-aries' },
  { name: 'Taurus', symbol: '♉', dates: 'Apr 20 - May 20', color: 'jyotirsetu-taurus' },
  { name: 'Gemini', symbol: '♊', dates: 'May 21 - Jun 20', color: 'jyotirsetu-gemini' },
  { name: 'Cancer', symbol: '♋', dates: 'Jun 21 - Jul 22', color: 'jyotirsetu-cancer' },
  { name: 'Leo', symbol: '♌', dates: 'Jul 23 - Aug 22', color: 'jyotirsetu-leo' },
  { name: 'Virgo', symbol: '♍', dates: 'Aug 23 - Sep 22', color: 'jyotirsetu-virgo' },
  { name: 'Libra', symbol: '♎', dates: 'Sep 23 - Oct 22', color: 'jyotirsetu-libra' },
  { name: 'Scorpio', symbol: '♏', dates: 'Oct 23 - Nov 21', color: 'jyotirsetu-scorpio' },
  { name: 'Sagittarius', symbol: '♐', dates: 'Nov 22 - Dec 21', color: 'jyotirsetu-sagittarius' },
  { name: 'Capricorn', symbol: '♑', dates: 'Dec 22 - Jan 19', color: 'jyotirsetu-capricorn' },
  { name: 'Aquarius', symbol: '♒', dates: 'Jan 20 - Feb 18', color: 'jyotirsetu-aquarius' },
  { name: 'Pisces', symbol: '♓', dates: 'Feb 19 - Mar 20', color: 'jyotirsetu-pisces' },
];

const sampleHoroscopes = {
  'Aries': 'This week brings new opportunities for leadership. Trust your instincts and take bold steps forward.',
  'Taurus': 'Focus on stability and long-term goals. Your patience will be rewarded with steady progress.',
  'Gemini': 'Communication is key this week. Share your ideas and listen to others for valuable insights.',
  'Cancer': 'Emotional connections deepen. Spend quality time with loved ones and trust your intuition.',
  'Leo': 'Your creativity shines bright. Express yourself authentically and inspire others around you.',
  'Virgo': 'Attention to detail pays off. Organize your priorities and tackle tasks methodically.',
  'Libra': 'Balance is essential. Find harmony between your personal and professional responsibilities.',
  'Scorpio': 'Transformation is in the air. Embrace change and let go of what no longer serves you.',
  'Sagittarius': 'Adventure calls your name. Explore new horizons and expand your knowledge base.',
  'Capricorn': 'Hard work brings recognition. Stay focused on your goals and maintain your discipline.',
  'Aquarius': 'Innovation leads the way. Think outside the box and embrace unconventional solutions.',
  'Pisces': 'Intuition guides you forward. Trust your inner wisdom and connect with your spiritual side.'
};
---

<div class="jyotirsetu-horoscope-grid">
  {zodiacSigns.map((sign) => (
    <div class={`jyotirsetu-zodiac-card ${sign.color} p-6 cursor-pointer`} data-zodiac-sign={sign.name.toLowerCase()}>
      <!-- Zodiac Symbol and Name -->
      <div class="text-center mb-4">
        <div class="text-4xl mb-2">{sign.symbol}</div>
        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-1">{sign.name}</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400">{sign.dates}</p>
      </div>
      
      <!-- Weekly Forecast -->
      <div class="mb-4">
        <p class="text-sm text-gray-700 dark:text-gray-300 leading-relaxed">
          {sampleHoroscopes[sign.name]}
        </p>
      </div>
      
      <!-- Read More Button -->
      <div class="text-center">
        <button class="inline-flex items-center text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200">
          Read Full Forecast
          <Icon name="tabler:arrow-right" class="ml-1 h-4 w-4" />
        </button>
      </div>
    </div>
  ))}
</div>

<!-- Weekly Horoscope Summary -->
<div class="mt-12 bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg border border-gray-200 dark:border-gray-700">
  <div class="text-center mb-6">
    <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">
      This Week's Cosmic Energy
    </h3>
    <p class="text-gray-600 dark:text-gray-400">
      January 15-21, 2024
    </p>
  </div>
  
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <div class="text-center">
      <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
        <Icon name="tabler:star" class="h-8 w-8 text-white" />
      </div>
      <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">New Beginnings</h4>
      <p class="text-sm text-gray-600 dark:text-gray-400">
        The cosmos encourages fresh starts and new opportunities this week.
      </p>
    </div>
    
    <div class="text-center">
      <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
        <Icon name="tabler:heart" class="h-8 w-8 text-white" />
      </div>
      <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Emotional Growth</h4>
      <p class="text-sm text-gray-600 dark:text-gray-400">
        Focus on deepening relationships and emotional connections.
      </p>
    </div>
    
    <div class="text-center">
      <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4">
        <Icon name="tabler:trending-up" class="h-8 w-8 text-white" />
      </div>
      <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Career Progress</h4>
      <p class="text-sm text-gray-600 dark:text-gray-400">
        Professional opportunities align with your natural talents.
      </p>
    </div>
  </div>
  
  <div class="text-center mt-8">
    <a 
      href="/horoscopes/weekly-horoscope-january-15-21-2024"
      class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-full hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
    >
      <Icon name="tabler:book-open" class="mr-2 h-5 w-5" />
      Read Full Weekly Horoscope
    </a>
  </div>
</div>

<!-- Zodiac Sign Modal Script -->
<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    const zodiacCards = document.querySelectorAll('[data-zodiac-sign]');
    
    zodiacCards.forEach(card => {
      card.addEventListener('click', function() {
        const sign = this.getAttribute('data-zodiac-sign');
        const signName = sign.charAt(0).toUpperCase() + sign.slice(1);
        
        // Track interaction
        if (window.JyotirsetuBlog) {
          window.JyotirsetuBlog.trackBlogInteraction('horoscope_view', signName);
        }
        
        // For now, just show an alert. In a real implementation, this would open a modal or navigate to a detailed page
        alert(`Detailed horoscope for ${signName} will be available soon!`);
      });
    });
  });
</script>
