---
// JyotirSetu Blog Logo Component - Matching Main Website
import logoText from '../assets/images/Logo/JyotirSetu-text.png';
import logoBlue from '../assets/images/Logo/Jyotirsetu-logo-blue.png';
---

<a href="/" class="flex items-center">
  <!-- Dark Theme Logo (White/Text) -->
  <img
    src={logoText.src}
    alt="JyotirSetu Logo"
    width={200}
    height={60}
    class="h-10 md:h-12 w-auto max-w-[180px] md:max-w-[220px] object-contain block"
    id="logo-dark"
    style="display: none;"
  />

  <!-- Light Theme Logo (Blue) -->
  <img
    src={logoBlue.src}
    alt="JyotirSetu Logo"
    width={200}
    height={60}
    class="h-10 md:h-12 w-auto max-w-[180px] md:max-w-[220px] object-contain"
    id="logo-light"
    style="display: block;"
  />
</a>

<style>
  /* Smooth logo transitions and consistent sizing */
  a img {
    transition: opacity 0.3s ease-in-out;
  }
  
  /* Both logos - Consistent sizing for smooth theme switching */
  #logo-light,
  #logo-dark {
    height: 2.5rem !important; /* h-10 */
    width: 12rem !important; /* consistent width */
    object-fit: contain;
    object-position: center;
  }
  
  @media (min-width: 768px) {
    /* Both logos - Desktop consistent sizing */
    #logo-light,
    #logo-dark {
      height: 3rem !important; /* md:h-12 */
      width: 14rem !important; /* consistent width */
    }
  }
</style>

<script is:inline>
  // Theme-based logo switching - Integrated with ThemeProvider
  function updateLogoVisibility() {
    const logoDark = document.getElementById('logo-dark');
    const logoLight = document.getElementById('logo-light');

    if (logoDark && logoLight) {
      // Check if dark mode is active
      const isDarkMode = document.documentElement.classList.contains('dark');

      if (isDarkMode) {
        // Dark theme: show white logo, hide blue logo
        logoDark.style.display = 'block';
        logoLight.style.display = 'none';
      } else {
        // Light theme: show blue logo, hide white logo
        logoDark.style.display = 'none';
        logoLight.style.display = 'block';
      }
    }
  }

  // Update logo when theme changes
  document.addEventListener('themechange', updateLogoVisibility);
  
  // Update logo on page load
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', updateLogoVisibility);
  } else {
    updateLogoVisibility();
  }

  // Update logo when Astro page loads
  document.addEventListener('astro:page-load', updateLogoVisibility);
</script>

